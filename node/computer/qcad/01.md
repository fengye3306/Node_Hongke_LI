

### QCAD Core 模块 (core 文件夹)

*Core 文件夹包含 QCAD 的核心功能实现，包括几何实体、文档管理、图形界面、导入导出、事件处理等。它是整个 QCAD 系统的基础模块。*

1. **核心数学与几何库 (math 文件夹)**  
   *这些文件定义了 QCAD 的基础几何数据结构和运算，其他 Core 模块大多依赖这些类。*  
   核心几何实体与数学工具：
   - **RPoint, RVector, RLine, RArc, REllipse, RCircle, RPolyline, RSpline, RBox, RTriangle, RXLine**  
     分别表示点、向量、直线、圆弧、椭圆、圆、多段线、样条、矩形、三角形、无限直线等几何对象。
   - **RMath, RMatrix, RTransform, RTransformOp**  
     数学工具类：矩阵运算、几何变换、向量运算。
   - **RShape, RShapeProxy, RDirected, RRefPoint, RTextLabel**  
     高级几何形状处理，包括方向、引用点和文本标签。
   - **RPolylineProxy, REllipseProxy, RSplineProxy**  
     对几何对象的代理类，用于封装操作、缓存或适配不同 API。

2. **文档与实体管理**  
   主要负责图形文档、图元和图层的管理：
   - **RDocument, RDocumentInterface, RDocumentVariables**：文档数据与接口管理。
   - **REntity, REntityData, RBlock, RBlockReferenceEntity**：图元及块的定义和管理。
   - **RLayer, RLayerState**：图层管理。
   - **RStorage, RMemoryStorage, RLinkedStorage**：图元存储管理。

3. **图形与界面模块**  
   提供渲染、视图、交互操作：
   - **RGraphicsScene, RGraphicsView, RViewportData, RViewportEntity**：视图与场景管理。
   - **RPainterPath, RPainterPathDevice, RPainterPathEngine**：路径绘制与处理。
   - **RMainWindow, RWidget**：主窗口与基础 UI 控件。
   - **RGuiAction, RAction, RActionAdapter**：动作与事件处理。
   - **RSelectionListener, RSnap, RMouseEvent, RKeyListener**：选择、捕捉与输入事件处理。

4. **导入导出与文件管理**  
   负责 DXF、其他文件格式的读写：
   - **RDxfServices, RFileExporter, RFileImporter, RShapesExporter, RArcExporter**  
   - **RFileCache, RLockedFile**：文件缓存与锁定处理。

5. **其他核心功能**  
   - **RSettings, RPropertyEditor, RPropertyAttributes**：属性系统与配置。
   - **RTransaction, RTransactionStack, RInterTransactionListener**：事务处理系统。
   - **RFont, RTextRenderer, RTextLayout, RTextLabel**：文字与字体管理。
   - **RColor, RColorCodes, RLinetypePattern, RLineweight**：颜色、线型、线宽管理。
   - **RPluginInterface, RPluginLoader, RPluginInfo**：插件接口与加载。
   - **RSPlatform, RThread, RSingleApplication**：平台抽象、多线程与单实例支持。

6. **资源文件 (resources 文件夹)**  
   包含 SVG 图标与 Qt 资源文件：
   - **core.qrc**：Qt 资源列表。
   - 各类 **linetype_*.svg**：线型图标。






### QCAD 自定义控件模块 (customwidgets 文件夹)

customwidgets 文件夹包含 QCAD 的自定义 Qt 控件实现和插件接口，用于扩展用户界面组件。这个模块让 QCAD 可以在属性编辑、图形视图、命令行等地方使用自定义 UI 控件。
customwidgets 模块通过插件化的方式实现了 QCAD 中各种自定义控件，使得 UI 可扩展、可复用，并且支持属性面板、命令行、图形视图等多种界面场景。


主要文件与功能：

1. **核心自定义控件类**  
   - **RCustomWidgets.cpp / RCustomWidgets.h**  
     提供自定义控件的统一管理与接口，实现控件的注册与初始化。

2. **字符与文本控件**  
   - **RCharacterWidgetPlugin.cpp / RCharacterWidgetPlugin.h**  
     字符选择控件插件，用于字体或字符选择。  
   - **RFontChooserWidgetPlugin.cpp / RFontChooserWidgetPlugin.h**  
     字体选择器插件。  
   - **RTextEditPlugin.cpp / RTextEditPlugin.h**  
     文本编辑控件插件。

3. **组合框与选择控件**  
   - **RColorComboPlugin.cpp / RColorComboPlugin.h**  
     颜色选择组合框。  
   - **RLinetypeComboPlugin.cpp / RLinetypeComboPlugin.h**  
     线型选择组合框。  
   - **RLineweightComboPlugin.cpp / RLineweightComboPlugin.h**  
     线宽选择组合框。  
   - **RMathComboBoxPlugin.cpp / RMathComboBoxPlugin.h**  
     数学表达式组合框。  
   - **RMathLineEditPlugin.cpp / RMathLineEditPlugin.h**  
     数学表达式输入框。  
   - **RComboBoxPlugin.cpp / RComboBoxPlugin.h**  
     基础组合框控件插件。

4. **视图与界面控件插件**  
   - **RGraphicsViewQtPlugin.cpp / RGraphicsViewQtPlugin.h**  
     图形视图控件插件。  
   - **RMdiChildQtPlugin.cpp / RMdiChildQtPlugin.h**  
     多文档子窗口控件插件。  
   - **RRulerQtPlugin.cpp / RRulerQtPlugin.h**  
     标尺控件插件。  
   - **RWebViewPlugin.cpp / RWebViewPlugin.h**  
     Web 页面显示控件插件。

5. **快捷键与输入控件**  
   - **RShortcutLineEditPlugin.cpp / RShortcutLineEditPlugin.h**  
     快捷键输入框控件插件。  
   - **RCommandLinePlugin.cpp / RCommandLinePlugin.h**  
     命令行输入控件插件。  
   - **RListViewPlugin.cpp / RListViewPlugin.h**  
     列表视图控件插件。
  




### QCAD 实体模块 (entity 文件夹)

*entity 文件夹包含 QCAD 的核心实体类实现，提供了各种 CAD 图形元素的定义和操作。
这个模块是 QCAD 绘图功能的核心，支持从基本几何图形到复杂标注的所有实体类型。*
entity 模块是 QCAD 的图形核心，通过数据类（Data）和实体类（Entity）的分离设计，
实现了 132 个文件的高效组织。数据类负责几何计算和属性存储，实体类负责显示渲染和用户交互。
这种架构支持从简单几何图形到复杂标注系统的完整 CAD 功能，为 QCAD 提供了强大的二维绘图能力。



主要文件与功能：

1. **基础实体与数据类**
   - **RDimensionData.cpp / RDimensionData.h**
     尺寸标注的基础数据类，提供尺寸标注的通用属性和方法。
   - **RDimensionEntity.cpp / RDimensionEntity.h**  
     尺寸标注的基础实体类，管理尺寸标注的显示和交互。

2. **基本几何实体**
   - **RArcData.cpp / RArcData.h / RArcEntity.cpp / RArcEntity.h**
     圆弧实体，支持圆弧的创建、编辑和渲染。
   - **RCircleData.cpp / RCircleData.h / RCircleEntity.cpp / RCircleEntity.h**
     圆实体，提供圆的几何计算和显示。
   - **REllipseData.cpp / REllipseData.h / REllipseEntity.cpp / REllipseEntity.h**
     椭圆实体，支持椭圆的参数化定义和操作。
   - **RLineData.cpp / RLineData.h / RLineEntity.cpp / RLineEntity.h**
     直线实体，基础的线段几何元素。
   - **RPointData.cpp / RPointData.h / RPointEntity.cpp / RPointEntity.h**
     点实体，用于表示坐标点。

3. **复杂几何实体**
   - **RPolylineData.cpp / RPolylineData.h / RPolylineEntity.cpp / RPolylineEntity.h**
     多段线实体，支持连续线段和弧段的组合。
   - **RSplineData.cpp / RSplineData.h / RSplineEntity.cpp / RSplineEntity.h**
     样条曲线实体，实现 B 样条和 NURBS 曲线。
   - **RFaceData.cpp / RFaceData.h / RFaceEntity.cpp / RFaceEntity.h**
     面实体，用于三维面片表示。
   - **RSolidData.cpp / RSolidData.h / RSolidEntity.cpp / RSolidEntity.h**
     实体面，支持填充的多边形。
   - **RTraceData.cpp / RTraceData.h / RTraceEntity.cpp / RTraceEntity.h**
     轨迹实体，类似多段线但具有宽度。

4. **尺寸标注实体**
   - **RDimAlignedData.cpp / RDimAlignedData.h / RDimAlignedEntity.cpp / RDimAlignedEntity.h**
     对齐尺寸标注。
   - **RDimLinearData.cpp / RDimLinearData.h / RDimLinearEntity.cpp / RDimLinearEntity.h**
     线性尺寸标注。
   - **RDimAngularData.cpp / RDimAngularData.h / RDimAngularEntity.cpp / RDimAngularEntity.h**
     角度尺寸标注。
   - **RDimRadialData.cpp / RDimRadialData.h / RDimRadialEntity.cpp / RDimRadialEntity.h**
     半径尺寸标注。
   - **RDimDiametricData.cpp / RDimDiametricData.h / RDimDiametricEntity.cpp / RDimDiametricEntity.h**
     直径尺寸标注。
   - **RDimArcLengthData.cpp / RDimArcLengthData.h / RDimArcLengthEntity.cpp / RDimArcLengthEntity.h**
     弧长尺寸标注。
   - **RDimOrdinateData.cpp / RDimOrdinateData.h / RDimOrdinateEntity.cpp / RDimOrdinateEntity.h**
     坐标尺寸标注。

5. **文本与属性实体**
   - **RTextData.cpp / RTextData.h / RTextEntity.cpp / RTextEntity.h**
     文本实体，支持单行文本显示。
   - **RAttributeData.cpp / RAttributeData.h / RAttributeEntity.cpp / RAttributeEntity.h**
     属性实体，用于块引用中的属性。
   - **RAttributeDefinitionData.cpp / RAttributeDefinitionData.h / RAttributeDefinitionEntity.cpp / RAttributeDefinitionEntity.h**
     属性定义实体，定义块的属性模板。

6. **高级功能实体**
   - **RHatchData.cpp / RHatchData.h / RHatchEntity.cpp / RHatchEntity.h**
     填充图案实体，支持各种剖面线填充。
   - **RImageData.cpp / RImageData.h / RImageEntity.cpp / RImageEntity.h**
     图像实体，支持光栅图像的插入和显示。
   - **RLeaderData.cpp / RLeaderData.h / RLeaderEntity.cpp / RLeaderEntity.h**
     引线实体，用于注释和标注。
   - **RToleranceData.cpp / RToleranceData.h / RToleranceEntity.cpp / RToleranceEntity.h**
     公差标注实体。
   - **RWipeoutData.cpp / RWipeoutData.h / RWipeoutEntity.cpp / RWipeoutEntity.h**
     遮罩实体，用于隐藏其他图形元素。

7. **辅助与射线实体**
   - **RRayData.cpp / RRayData.h / RRayEntity.cpp / RRayEntity.h**
     射线实体，单向无限延伸的线。
   - **RXLineData.cpp / RXLineData.h / RXLineEntity.cpp / RXLineEntity.h**
     构造线实体，双向无限延伸的线。

8. **样式与代理**
   - **RDimStyleProxyBasic.cpp / RDimStyleProxyBasic.h**
     尺寸样式代理基础实现，管理尺寸标注的显示样式。
   - **RHatchProxy.h**
     填充图案代理，处理填充图案的生成和显示。











### QCAD 网格模块 (grid 文件夹)

*grid 文件夹包含 QCAD 的网格系统实现，主要提供正交网格功能，用于在绘图区域显示参考网格，辅助用户进行精确绘图和对齐操作。*
grid 模块是 QCAD 的用户界面辅助组件，虽然文件数量较少（11个文件），但功能专注。通过 ROrthoGrid 类实现了强大的正交网格系统，为绘图工作区提
供视觉参考，帮助用户实现精确的坐标定位和对齐操作。该模块与其他图形模块紧密集成，共同构建了 QCAD 专业的 CAD 绘图环境。

主要文件与功能：

1. **核心网格类**
   - **ROrthoGrid.cpp / ROrthoGrid.h**
     正交网格的核心实现类，负责网格的生成、显示和管理。
     * 功能特点：
       - 提供直角坐标系下的正交网格显示
       - 支持网格间距的自定义配置
       - 管理网格的可见性控制
       - 处理网格与绘图坐标的对应关系
       - 支持捕捉点的网格对齐功能







### QCAD GUI 模块 (gui 文件夹)

*gui 文件夹包含 QCAD 的主要用户界面组件实现，提供了完整的 CAD 应用程序界面框架，包括主窗口、图形视图、工具栏、命令面板等核心 UI 元素。*

gui 模块是 QCAD 用户界面的核心实现，包含 86 个源代码文件，构建了完整的 CAD 应用程序界面。通过模块化的设计
，提供了从主窗口框架到具体控件的完整 UI 解决方案，支持多文档、自定义工具栏、专业图形视图等高级功能，
为 QCAD 提供了专业且易用的用户界面体验。

主要文件与功能：

1. **主窗口与应用程序框架**
   - **RMainWindowQt.cpp / RMainWindowQt.h**
     QCAD 主窗口实现，管理菜单栏、工具栏、状态栏和中心工作区。
   - **RMdiArea.cpp / RMdiArea.h**
     多文档区域管理，支持多个绘图文档的标签页或子窗口显示。
   - **RMdiChildQt.cpp / RMdiChildQt.h**
     多文档子窗口，每个文档的独立视图容器。

2. **图形视图系统**
   - **RGraphicsViewQt.cpp / RGraphicsViewQt.h**
     主要的图形视图控件，负责 CAD 图形的显示和交互。
   - **RGraphicsViewImage.cpp / RGraphicsViewImage.h**
     图像导出和打印专用的图形视图。
   - **RGraphicsSceneQt.cpp / RGraphicsSceneQt.h**
     图形场景管理，处理实体对象的存储和场景逻辑。
   - **RGraphicsViewWorker.cpp / RGraphicsViewWorker.h**
     图形视图工作线程，用于后台渲染和计算。
   - **RGraphicsViewWorkerPainter.cpp / RGraphicsViewWorkerPainter.h**
     工作线程的绘图器实现。
   - **RGraphicsSceneDrawable.cpp / RGraphicsSceneDrawable.h**
     可绘制对象的基类，定义图形元素的绘制接口。

3. **工具栏与面板系统**
   - **RCadToolBar.cpp / RCadToolBar.h**
     主要 CAD 工具栏，包含绘图和编辑工具按钮。
   - **RCadToolBarPanel.cpp / RCadToolBarPanel.h**
     工具栏面板容器，管理工具按钮的布局。
   - **RDockWidget.cpp / RDockWidget.h**
     可停靠窗口基类，支持属性面板、图层管理等停靠窗口。
   - **RToolButton.cpp / RToolButton.h**
     自定义工具按钮，支持图标和文本显示。

4. **命令与输入系统**
   - **RCommandLine.cpp / RCommandLine.h**
     命令行输入控件，支持 CAD 命令输入和自动完成。
   - **RMathLineEdit.cpp / RMathLineEdit.h**
     数学表达式输入框，支持公式计算。
   - **RShortcutLineEdit.cpp / RShortcutLineEdit.h**
     快捷键设置输入框。

5. **属性与选择控件**
   - **RColorCombo.cpp / RColorCombo.h**
     颜色选择组合框。
   - **RLinetypeCombo.cpp / RLinetypeCombo.h**
     线型选择组合框，支持线型预览。
   - **RLinetypeComboDelegate.cpp / RLinetypeComboDelegate.h**
     线型组合框的项渲染代理。
   - **RLineweightCombo.cpp / RLineweightCombo.h**
     线宽选择组合框。
   - **RMathComboBox.cpp / RMathComboBox.h**
     数学表达式组合框。

6. **布局与界面组件**
   - **RColumnLayout.cpp / RColumnLayout.h**
     列布局管理器，用于工具选项板的垂直布局。
   - **RFlowLayout.cpp / RFlowLayout.h**
     流式布局管理器，自动换行的按钮布局。
   - **RFocusFrame.cpp / RFocusFrame.h**
     焦点框控件，用于高亮当前焦点元素。

7. **列表与树形视图**
   - **RListView.cpp / RListView.h**
     自定义列表视图，用于图层列表、块列表等。
   - **RListWidget.cpp / RListWidget.h**
     列表控件。
   - **RTreeWidget.cpp / RTreeWidget.h**
     树形控件，用于属性树、块引用树等。
   - **RToolMatrixItemDelegate.cpp / RToolMatrixItemDelegate.h**
     工具矩阵项代理，用于工具选项板的项渲染。

8. **文本与字体控件**
   - **RCharacterWidget.cpp / RCharacterWidget.h**
     字符选择控件，显示字体字符集。
   - **RFontChooserWidget.cpp / RFontChooserWidget.h**
     字体选择器控件。
   - **RTextEdit.cpp / RTextEdit.h**
     文本编辑控件。

9. **辅助界面组件**
   - **RRulerQt.cpp / RRulerQt.h**
     标尺控件，显示坐标尺和刻度。
   - **RWebView.cpp / RWebView.h**
     Web 视图控件，用于显示帮助文档等网页内容。
   - **RFileSystemModel.cpp / RFileSystemModel.h**
     文件系统模型，用于文件对话框。

10. **事件处理系统**
    - **REventHandler.cpp / REventHandler.h**
      事件处理器基类，管理 UI 事件的分发和处理。
    - **REventFilter.cpp / REventFilter.h**
      事件过滤器，用于拦截和处理特定事件。
    - **RToolOptionEventFilter.cpp / RToolOptionEventFilter.h**
      工具选项事件过滤器。
    - **RCloseCurrentEvent.h**
      关闭当前文档事件定义。





### QCAD 操作模块 (operations 文件夹)

*operations 文件夹包含 QCAD 的核心操作类实现，提供了对图形对象的编辑、修改和管理功能。
这些操作类构成了 QCAD 的编辑命令系统，支持撤销/重做功能。*
operations 模块是 QCAD 编辑功能的核心，通过 47 个文件实现了完整的操作框架。
每个操作类都支持撤销/重做机制，确保用户编辑操作的可逆性。
这种设计使得 QCAD 能够提供稳定可靠的编辑体验，同时为复杂的编辑命令（如移动、复制、删除、修改属性等）提供了统一的实现基础。

主要文件与功能：

1. **基础操作类**
   - **RAddObjectOperation.cpp / RAddObjectOperation.h**
     添加单个对象操作，用于向文档中添加新实体。
   - **RAddObjectsOperation.cpp / RAddObjectsOperation.h**
     添加多个对象操作，批量添加实体到文档。
   - **RDeleteObjectOperation.cpp / RDeleteObjectOperation.h**
     删除单个对象操作。
   - **RDeleteObjectsOperation.cpp / RDeleteObjectsOperation.h**
     删除多个对象操作。
   - **RDeleteSelectionOperation.cpp / RDeleteSelectionOperation.h**
     删除选中对象操作。

2. **修改与属性操作**
   - **RModifyObjectOperation.cpp / RModifyObjectOperation.h**
     修改单个对象操作，更新实体属性。
   - **RModifyObjectsOperation.cpp / RModifyObjectsOperation.h**
     修改多个对象操作，批量更新实体。
   - **RChangePropertyOperation.cpp / RChangePropertyOperation.h**
     改变属性操作，专门用于修改对象属性（颜色、线型等）。

3. **选择集操作**
   - **RDeleteAllEntitiesOperation.cpp / RDeleteAllEntitiesOperation.h**
     删除所有实体操作，清空文档。
   - **RMoveSelectionOperation.cpp / RMoveSelectionOperation.h**
     移动选中对象操作。
   - **RScaleSelectionOperation.cpp / RScaleSelectionOperation.h**
     缩放选中对象操作。

4. **剪贴板操作**
   - **RClipboardOperation.cpp / RClipboardOperation.h**
     剪贴板操作基类，管理复制粘贴功能。
   - **RCopyOperation.cpp / RCopyOperation.h**
     复制操作，将选中对象复制到剪贴板。
   - **RPasteOperation.cpp / RPasteOperation.h**
     粘贴操作，从剪贴板粘贴对象到文档。

5. **参考点操作**
   - **RClickReferencePointOperation.cpp / RClickReferencePointOperation.h**
     点击参考点操作，处理参考点的选择和交互。
   - **RMoveReferencePointOperation.cpp / RMoveReferencePointOperation.h**
     移动参考点操作，用于编辑实体的控制点。

6. **复合与工具操作**
   - **RMixedOperation.cpp / RMixedOperation.h**
     混合操作，组合多个不同类型操作的复合操作。
   - **ROperationUtils.cpp / ROperationUtils.h**
     操作工具类，提供操作相关的实用函数。

7. **变换支持类**
   - **RTransformation.h**
     变换基类，定义几何变换接口。
   - **RTranslation.h**
     平移变换实现。










### QCAD 脚本模块 (scripting 文件夹)

*scripting 文件夹包含 QCAD 的 ECMAScript 脚本支持系统，提供了完整的 JavaScript 绑定和自动化接口。这个模块允许用户通过脚本扩展 QCAD 功能，实现自定义工具和自动化任务。*
scripting 模块是 QCAD 的脚本扩展核心，包含 961 个文件，提供了完整的 ECMAScript 绑定系统。通过自动生成的绑定代码，将 QCAD 的 C++ 类库完全暴露给 JavaScript 环境，使得用户可以通过脚本：
- 创建自定义绘图工具
- 实现复杂的几何计算
- 批量处理图形对象  
- 扩展用户界面功能
- 自动化重复性任务

这种设计使得 QCAD 具有极强的可扩展性，用户无需编译 C++ 代码即可实现功能扩展。
主要文件与功能：

1. **核心脚本引擎**
   - **RScriptHandlerEcma.cpp / RScriptHandlerEcma.h**
     ECMAScript 脚本处理器，管理脚本的执行和上下文。
   - **REcmaHelper.cpp / REcmaHelper.h**
     ECMAScript 辅助工具，提供类型转换和绑定支持。
   - **RAutoLoadEcma.cpp / RAutoLoadEcma.h**
     脚本自动加载机制。

2. **适配器系统 (adapters 文件夹)**
   - **RBlockListenerAdapter.h** - 块监听器适配器
   - **RCoordinateListenerAdapter.h** - 坐标监听器适配器  
   - **RFileExporterAdapter.h** - 文件导出器适配器
   - **RFileImporterAdapter.h** - 文件导入器适配器
   - **RPropertyListenerAdapter.h** - 属性监听器适配器
   - **RSelectionListenerAdapter.h** - 选择监听器适配器
   - **RTransactionListenerAdapter.h** - 事务监听器适配器
     *提供 C++ 接口到 JavaScript 的桥接适配器*

3. **生成的绑定代码 (generated 文件夹)**
   
   **基础类绑定：**
   - **REcmaDocument.cpp / REcmaDocument.h** - 文档类绑定
   - **REcmaDocumentInterface.cpp / REcmaDocumentInterface.h** - 文档接口绑定
   - **REcmaStorage.cpp / REcmaStorage.h** - 存储类绑定
   - **REcmaMemoryStorage.cpp / REcmaMemoryStorage.h** - 内存存储绑定

   **实体类绑定：**
   - **REcmaEntity.cpp / REcmaEntity.h** - 实体基类绑定
   - **REcmaArcEntity.cpp / REcmaArcEntity.h** - 圆弧实体绑定
   - **REcmaLineEntity.cpp / REcmaLineEntity.h** - 直线实体绑定
   - **REcmaCircleEntity.cpp / REcmaCircleEntity.h** - 圆实体绑定
   - **REcmaPolylineEntity.cpp / REcmaPolylineEntity.h** - 多段线实体绑定
   - **REcmaDimensionEntity.cpp / REcmaDimensionEntity.h** - 尺寸标注实体绑定

   **数据类绑定：**
   - **REcmaEntityData.cpp / REcmaEntityData.h** - 实体数据基类
   - **REcmaArcData.cpp / REcmaArcData.h** - 圆弧数据绑定
   - **REcmaLineData.cpp / REcmaLineData.h** - 直线数据绑定
   - **REcmaCircleData.cpp / REcmaCircleData.h** - 圆数据绑定

   **几何类绑定：**
   - **REcmaVector.cpp / REcmaVector.h** - 向量类绑定
   - **REcmaPoint.cpp / REcmaPoint.h** - 点类绑定
   - **REcmaLine.cpp / REcmaLine.h** - 直线几何绑定
   - **REcmaArc.cpp / REcmaArc.h** - 圆弧几何绑定
   - **REcmaCircle.cpp / REcmaCircle.h** - 圆几何绑定

   **操作类绑定：**
   - **REcmaOperation.cpp / REcmaOperation.h** - 操作基类绑定
   - **REcmaAddObjectOperation.cpp / REcmaAddObjectOperation.h** - 添加对象操作
   - **REcmaDeleteObjectOperation.cpp / REcmaDeleteObjectOperation.h** - 删除对象操作
   - **REcmaModifyObjectOperation.cpp / REcmaModifyObjectOperation.h** - 修改对象操作

   **UI 组件绑定：**
   - **REcmaMainWindowQt.cpp / REcmaMainWindowQt.h** - 主窗口绑定
   - **REcmaGraphicsViewQt.cpp / REcmaGraphicsViewQt.h** - 图形视图绑定
   - **REcmaGraphicsSceneQt.cpp / REcmaGraphicsSceneQt.h** - 图形场景绑定
   - **REcmaCadToolBar.cpp / REcmaCadToolBar.h** - CAD 工具栏绑定

   **工具和捕捉绑定：**
   - **REcmaSnap.cpp / REcmaSnap.h** - 捕捉基类绑定
   - **REcmaSnapAuto.cpp / REcmaSnapAuto.h** - 自动捕捉绑定
   - **REcmaSnapCenter.cpp / REcmaSnapCenter.h** - 中心点捕捉绑定
   - **REcmaSnapEnd.cpp / REcmaSnapEnd.h** - 端点捕捉绑定

   **共享指针绑定：**
   - **REcmaSharedPointerEntity.cpp / REcmaSharedPointerEntity.h** - 实体共享指针
   - **REcmaSharedPointerLine.cpp / REcmaSharedPointerLine.h** - 直线共享指针
   - **REcmaSharedPointerArc.cpp / REcmaSharedPointerArc.h** - 圆弧共享指针
   - **REcmaSharedPointerCircle.cpp / REcmaSharedPointerCircle.h** - 圆共享指针

   **Shell 类绑定：**
   - **REcmaShellGraphicsViewQt.cpp / REcmaShellGraphicsViewQt.h** - 图形视图 Shell
   - **REcmaShellPropertyEditor.cpp / REcmaShellPropertyEditor.h** - 属性编辑器 Shell
   - **REcmaShellFileExporterAdapter.cpp / REcmaShellFileExporterAdapter.h** - 文件导出适配器 Shell

4. **事件系统绑定**
   - **REcmaMouseEvent.cpp / REcmaMouseEvent.h** - 鼠标事件绑定
   - **REcmaKeyEvent.cpp / REcmaKeyEvent.h** - 键盘事件绑定
   - **REcmaCoordinateEvent.cpp / REcmaCoordinateEvent.h** - 坐标事件绑定
   - **REcmaSelectionChangedEvent.cpp / REcmaSelectionChangedEvent.h** - 选择改变事件








### QCAD 捕捉模块 (snap 文件夹)

snap 模块是 QCAD 精确定位的核心，通过 41 个文件实现了完整的对象捕捉系统。
该系统提供了多种几何点捕捉方式（端点、中点、中心点、交点等）和输入约束（角度、长度、方向限制），
确保用户在绘图过程中能够精确地定位到关键几何点，大大提高了绘图效率和准确性。捕捉系统与图形视图和实体模块紧密集成，
为用户提供流畅的绘图体验。
*snap 文件夹包含 QCAD 的对象捕捉系统实现，提供了精确的几何点捕捉功能，是 CAD 绘图精确定位的关键组件。*

主要文件与功能：

1. **基础捕捉类**
   - **RSnapEntityBase.cpp / RSnapEntityBase.h**
     实体捕捉基类，定义所有实体捕捉的通用接口和行为。

2. **自动捕捉**
   - **RSnapAuto.cpp / RSnapAuto.h**
     自动捕捉类，根据光标位置自动选择最合适的捕捉类型。

3. **几何点捕捉**
   - **RSnapEnd.cpp / RSnapEnd.h**
     端点捕捉，捕捉直线、圆弧等实体的端点。
   - **RSnapCenter.cpp / RSnapCenter.h**
     中心点捕捉，捕捉圆弧、圆的中心点。
   - **RSnapMiddle.cpp / RSnapMiddle.h**
     中点捕捉，捕捉直线、圆弧的中点。
   - **RSnapIntersection.cpp / RSnapIntersection.h**
     交点捕捉，捕捉两个实体的交点。

4. **相对位置捕捉**
   - **RSnapOnEntity.cpp / RSnapOnEntity.h**
     实体上点捕捉，捕捉实体上的任意点。
   - **RSnapPerpendicular.cpp / RSnapPerpendicular.h**
     垂足捕捉，捕捉到另一实体的垂直点。
   - **RSnapTangential.cpp / RSnapTangential.h**
     切点捕捉，捕捉到圆或圆弧的切点。
   - **RSnapReference.cpp / RSnapReference.h**
     参考点捕捉，捕捉临时参考点。

5. **距离和网格捕捉**
   - **RSnapDistance.cpp / RSnapDistance.h**
     距离捕捉，按指定距离间隔捕捉点。
   - **RSnapGrid.cpp / RSnapGrid.h**
     网格捕捉，捕捉到网格交点。
   - **RSnapFree.cpp / RSnapFree.h**
     自由捕捉，无限制的任意点捕捉。

6. **约束限制类**
   - **RRestrictAngleLength.cpp / RRestrictAngleLength.h**
     角度和长度限制，约束输入的角度和长度。
   - **RRestrictHorizontal.cpp / RRestrictHorizontal.h**
     水平限制，强制水平方向移动。
   - **RRestrictVertical.cpp / RRestrictVertical.h**
     垂直限制，强制垂直方向移动。
   - **RRestrictOrthogonal.cpp / RRestrictOrthogonal.h**
     正交限制，强制水平或垂直方向移动。
   - **RRestrictOff.cpp / RRestrictOff.h**
     关闭限制，禁用所有约束。







### QCAD 空间索引模块 (spatialindex 文件夹)
*spatialindex 文件夹包含 QCAD 的空间索引系统实现，专门用于高效的空间查询和实体检索，是 CAD 系统性能优化的关键组件。*
主要文件与功能：

1. **核心空间索引类**
   - **RSpatialIndexNavel.cpp / RSpatialIndexNavel.h**
     空间索引的核心实现类，提供高效的几何对象空间查询功能。
     * 功能特点：
       - 基于 R-Tree 或类似空间索引数据结构
       - 支持快速的范围查询和点查询
       - 优化实体选择和碰撞检测性能
       - 管理大量图形实体的空间关系
       - 支持动态更新和增量维护

> 总结：

spatialindex 模块虽然文件数量较少（7个文件），但在 QCAD 中扮演着至关重要的性能优化角色。通过实现高效的空间索引算法，该模块：
- 大幅提升实体选择和查询速度
- 优化图形渲染和交互性能  
- 支持复杂场景下的实时操作
- 为捕捉、选择和编辑操作提供底层支持

这种专门化的空间索引实现确保了 QCAD 在处理大型图纸时仍能保持流畅的用户体验。






QCAD 词干提取模块 (stemmer 文件夹)

*stemmer 文件夹包含 QCAD 的词干提取功能实现，主要用于文本处理和搜索功能的优化，支持自然语言处理相关的文本分析。*

主要文件与功能：

1. **核心词干提取类**
   - **RStemmer.cpp / RStemmer.h**
     词干提取器的核心实现类，提供文本词干化功能。
     * 功能特点：
       - 实现 Porter 词干提取算法或其他词干提取方法
       - 将单词转换为其词干形式（如 "drawing" → "draw"）
       - 支持多种语言的词干提取
       - 优化文本搜索和匹配性能

stemmer 模块是 QCAD 文本处理系统的一个专门化组件，虽然文件数量很少（7个文件），但在以下场景中发挥重要作用：
- 改进命令和文本搜索功能
- 增强文本实体的内容分析
- 支持智能文本匹配和检索
- 为高级搜索和过滤功能提供基础

该模块通过词干提取技术提升了 QCAD 在文本处理方面的用户体验和功能完整性。


